name: Coverage Action
author: Michael Beckh
description: Get code coverage and send it to codecov.io and codacy.com
inputs:
  command:
    description: The command to run
    required: false
    default: ctest --output-on-failure
  source-dir:
    description: The CMake source directory
    required: true
  binary-dir:
    description: The CMake binary directory
    required: true
  github-token:
    description: The Github token
    required: true
  codacy-token:
    description: The value of the codacy project token
    required: true
runs:
  using: node12
  main: ./coverage.js
